<!DOCTYPE HTML>
<html>

<head>
	<meta charset="UTF-8">	
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/x-icon" href="/home/pi/magi/favicon.ico">
	<link rel="icon" type="image/png" href="/home/pi/magi/favicon.png">
	<link rel="stylesheet" href="css/style.css">
	<link rel="stylesheet" href="css/buttons.css">
	<link rel="stylesheet" href="css/notification-window.css">
	<link rel="stylesheet" href="css/slider.css">
	<link rel="stylesheet" href="css/spinner.css">
	<script src="js/canvasjs.unbadged.js"></script>
	<script src="js/magi.js" defer></script>
	<title>MAGI</title>
</head>

<div class="main-container">

	<div class="chart-container">
		<div class="chart-row">
			<div class="side-button-container"> 
				<button id="start" class="button" role="button" onclick="startAssay()">Start</button>
				<div class="slider-container">
				    <div id="period-slider-value" class="slider-value">Period: 5s</div>
				    <input type="range" id="period-slider" class="slider" 
				           min="2" max="10" value="6">
		        </div>
		        <div class="vertical-gap-10"></div>
				<button id="stop" class="button" onclick="endAssay()">End</button>
				<button id="saveraw" class="button" onclick="saveRaw()">Save Raw</button>
		        <div class="vertical-gap-10"></div>
			</div>
			<div class="chart" id="rawDataChart"><b>Fluorescence Data</b></div>
			<div class="chart" id="temperatureChart"><b>Chip Temperature</b></div>
		</div>
		<div class="chart-row">
			<div class="side-button-container"> 
				<button id="analyze" class="button" onclick="analyzeData()">Analyze</button>
				<div class="slider-container">
				    <div id="filter-slider-value" class="slider-value">
				    	f<sub class="sub75">c</sub> = f<sub class="sub75">nyq</sub>/10
				    </div>
				    <input type="range" id="filter-slider" class="slider" 
				           min="1" max="20" value="12">
				</div>
				<div class="slider-container">
				    <div id="cut-time-slider-value" class="slider-value">
				    	t<sub class="sub75">cut</sub>: 0 min
				    </div>
				    <input type="range" id="cut-time-slider" class="slider" 
				           min="0" max="20" value="0">
				</div>
		        <div class="vertical-gap-10"></div>
				<button id="toggleTTP" class="button" onclick="toggleTTP()">TTP mode</button>
				<button id="savefiltered" class="button" onclick="saveFiltered()"> Save Filtered </button>
				<button id="saveTTP" class="button" onclick="saveTTP()">Save TTP</button>
			</div>
			<div class="chart" id="filteredDataChart"><b>Filtered Data</b></div>
			<div class="chart" id="ttpChart"><b>Time to Positive</b></div>
		</div>
	</div>

	<div class="log-image-container">
		<div class="log-image-row">
			<div class="side-button-container"> 
				<button id="getImage" class="button" role="button" onclick="getImage()"> Get Image </button>
			  	<button id="reboot" class="button" role="button" onclick="reboot()"> Reboot </button>
			  	<button id="shutdown" class="button" role="button" onclick="shutdown()"> Shutdown </button>
			  	<button id="getLog" class="button" role="button" onclick="getServerLog()"> Get log </button>
			  	<button id="clearLog" class="button" role="button" onclick="clearServerLog()"> Clear log </button>
			</div>
			<div class="image-div"><img id="image"></div>
			<div class="log" id="log"><b>Server Log</b><br><br></div>
		</div>
	</div>

</div>

</body>
</html>
